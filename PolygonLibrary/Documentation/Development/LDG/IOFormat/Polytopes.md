# Формат файла многогранника

> Поля записаны в стандартной нотации см. [здесь](../DataFormat.md)

---

## Структура файла
```
Name = "S";  // имя многогранника 
Type = "S";  // способ задания многогранника
[описание типа]
```

Корректные значения `Type`: `CGLibrary`, `Convex Hull`, `Hyper Planes`, `Generator`

В зависимости от значения поля `Type` дальнейшая структура файла будет различной.

### CGLibrary

Многогранник записан в формате библиотеки см. [здесь](../../LibPolytopeFormat.md)

```
Type = "CGLibrary";
[многогранник в формате библиотеки]
```

### Convex Hull
Многогранник записан своими вершинами.
```
DoRed =  B;  // Выполнять ли удаление избыточных точек 
VsQnt =  N;  // количество веришн
VsDim =  N;  // количество координат у вершин
D D ...  D   // VsDim штук -- перечисляем все координаты первой вершины
D D ...  D 
    ...
D D ...  D 
// VsQnt строк
```

#### Пример. Квадрат
```
Name  = "Square";
Type  = "Convex Hull";
DoRed =  False; 
VsQnt = 4;
VsDim = 2;
0 0
0 1
1 0
1 1
```

### Hyper Planes
Многогранник задан пересечением полупространств. Векторы нормалей должны быть направлены "наружу" многогранника.
```
DoRed =  B;  // Выполнять ли удаление избыточных неравенств 
HPsQnt = N;  // количество гиперплоскостей
HPsDim = N;  // размерность векторов нормалей у гиперплоскостей
D D ... D D  // HPsDim + 1 штука. Первые HPsDim штук -- это координаты нормали, последняя -- это свободный член в правой части
    ...
D D ... D D
// HPsQnt штук
```

#### Пример. Квадрат
```
Name   = "Square";
Type   = "Hyper Planes";
DoRed  = True;
HPsQnt = 5;
HPsDim = 2;
 0  1  1
 1  0  1
 0 -1  0
-1  0  0
-1  0  1
```

### Generator
Многогранник, который умеет создавать CGLibrary, заданный параметрически

Далее идёт поле
`GeneratorType = "S";`  -- тип функции-генератора

Корректные значения `S`: `RectAxisParallel`, `Sphere`, `Ellipsoid` 

В зависимости от значения поля `GeneratorType` дальнейшая структура файла будет различной.

#### RectAxisParallel
```
GeneratorType = RectAxisParallel;
Left           = 1D<D>;  // Минимальная  вершина параллепипеда в лексикографическом порядке
Right          = 1D<D>;  // Максимальная вершина параллепипеда в лексикографическом порядке
```

##### Пример. Квадрат
```
Name          = "Square";
Type          = Generator;
GeneratorType = RectAxisParallel;
Left          = {0,0};
Right         = {1,1};
```


#### Sphere
Некоторое приближение многогранником сферы единичного радиуса с центром в начале координат. 

```
GeneratorType     = Sphere;
Dim               = N;         // Размерность сферы
AzimuthsDivisions = N;         // Количество точек разбиения сферы по каждому из азимутных углов.
[PolarDivision    = N;]        // Количество точек разбиения сферы по зенитному углу. В 2D-случае эта строка отсутствует.
```

##### Пример. Квадрат
```
Name              = "Square";
Type              = Generator;
GeneratorType     = Sphere;
Dim               = 2;
AzimuthsDivisions = 4;
```

#### Ellipsoid

Некоторое приближение многогранником эллипсоида с центром в начале координат.

```
GeneratorType     = Ellipsoid;
Dim               = N;         // Размерность эллипсоида
SemiAxis          = 1D<D>;     // Длины полуосей эллипсоида
AzimuthsDivisions = N;         // Количество точек разбиения эллипсоида по каждому из азимутных углов.
[PolarDivision    = N;]        // Количество точек разбиения эллипсоида по зенитному углу. В 2D-случае эта строка отсутствует.
```

##### Пример. Квадрат

```
Name              = "Square";
Type              = Generator;
GeneratorType     = Ellipsoid;
Dim               = 2;
SemiAxis          = {1,1};
AzimuthsDivisions = 4;
```
